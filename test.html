<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>MSE.js Test</title>
  </head>
  <body>
    <h2>Generate website config</h2>
    <a href="generate.html">generate</a>
    <h2>Search test</h2>
    <input type="text" id="kw"/>
    <button id="search">Search</button>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/mse.min.js"></script>
    <script>
MSE = null;

search = function(kw, cb) {
  if (MSE) {
    MSE.search(kw, cb);
  } else {
    $.getJSON('/mse.json', function(config) {
      MSE = new Mini(config);
      MSE.search(kw, cb);
    });
  }
};

showList = function(pages) {
  if(pages.length == 0){
    alert('size is 0');
    return
  }
  var div, j, len, p;
  $('#result').remove();
  div = $('<ul id="result"></ul>');
  for (j = 0, len = pages.length; j < len; j++) {
    p = pages[j];
    $("<li><a href='" + p.url + "' target='_blank'>" + p.title + "</a></li>").appendTo(div);
  }
  div.appendTo('body');
};

$(function(){
  $('#search').click(function(){
    search($('#kw').val(), showList);
  });
});
    </script>
  </body>
</html>

